SubDir TOP ;

actions Install {
    mkdir -p $(INSTALL_DIR)
    install $(TOP)/ocrocmd/ocrocmd $(INSTALL_DIR)/ocrocmd
    install $(TOP)/ocroscript/ocroscript $(INSTALL_DIR)/ocroscript
    test -d $(OCRODATA) || mkdir $(OCRODATA)
    test -d $(OCRODATA)/words || mkdir $(OCRODATA)/words
    cp -v $(TOP)/data/words/* $(OCRODATA)/words
    test -d $(OCRODATA)/models || mkdir $(OCRODATA)/models
    cp -v $(TOP)/data/models/* $(OCRODATA)/models
    test -d $(OCROSCRIPTS) || mkdir $(OCROSCRIPTS)
    cp -v $(TOP)/ocroscript/scripts/*.lua $(OCROSCRIPTS)
    test -d $(OCROSCRIPTS)/lib || mkdir $(OCROSCRIPTS)/lib
    cp -v $(TOP)/ocroscript/scripts/lib/*.lua $(OCROSCRIPTS)/lib
}

ALWAYS install ;
Install install ;
Depends install : all ;

actions Tags {
    echo making tags files for vi and emacs...
    rm -f tags TAGS
    find . \( -name '*.cc' -o -name '*.h' \) | grep -v _darcs | xargs ctags -a
    find . \( -name '*.cc' -o -name '*.h' \) | grep -v _darcs | xargs etags -a
}

ALWAYS tags ;
Tags tags ;

ImportDir TOP colib ;
ImportDir TOP imgio ;
ImportDir TOP imglib ;
ImportDir TOP ocr-utils ;
ImportDir TOP langmods ;
ImportDir TOP ocr-binarize ;
ImportDir TOP ocr-layout-rast ;
ImportDir TOP ocr-tesseract ;
ImportDir TOP ocr-bpnet ;
ImportDir TOP ocr-samples ;
if $(nolua) = "" {
ImportDir TOP ext tolua++ ;
ImportDir TOP ocroscript ;
}
